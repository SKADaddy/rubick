(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{383:function(s,t,a){"use strict";a.r(t);var e=a(46),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"windows-本地启动项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows-本地启动项目"}},[s._v("#")]),s._v(" windows 本地启动项目")]),s._v(" "),a("p",[s._v("如果您是在 "),a("code",[s._v("windows")]),s._v(" 系统下使用本项目进行启动的话，如果出现了一些跑不起的情况，下面的一些经验或许可以帮助您。")]),s._v(" "),a("h3",{attrs:{id:"安装依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖"}},[s._v("#")]),s._v(" 安装依赖")]),s._v(" "),a("p",[s._v("项目是基于 "),a("code",[s._v("electron-vue")]),s._v(" 的，所以需要本地已经安装好 "),a("code",[s._v("nodejs")]),s._v("。当 "),a("code",[s._v("clone")]),s._v(" 好项目到本地的时候，需要对项目依赖\n进行手动安装：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" rubick\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("p",[s._v("由于本项目依赖 "),a("a",{attrs:{href:"https://wilix-team.github.io/iohook/",target:"_blank",rel:"noopener noreferrer"}},[s._v("iohook"),a("OutboundLink")],1),s._v(" 和 "),a("a",{attrs:{href:"http://robotjs.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("robotjs"),a("OutboundLink")],1),s._v("\n而这2个项目在安装时，依赖 node gyp 的编译，所以你可能会遇到一些环境问题或者网络问题。")]),s._v(" "),a("h3",{attrs:{id:"iohook-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iohook-安装"}},[s._v("#")]),s._v(" iohook 安装")]),s._v(" "),a("p",[s._v("首先，我们先来安装 "),a("code",[s._v("iohook")]),s._v("，按照 "),a("code",[s._v("iohook")]),s._v(" 的文档所示，安装前需要先确定当前 "),a("code",[s._v("electron")]),s._v(" 的版本以及 "),a("code",[s._v("abi")]),s._v(" 的版本，\n现在我们使用的 "),a("code",[s._v("electron")]),s._v(" 版本是 "),a("code",[s._v("v11.0.2")]),s._v(" 所以只需要在 "),a("code",[s._v("package,json")]),s._v(" 中加上以下配置，指定安装特点的"),a("code",[s._v(".node")]),s._v(" 文件")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"iohook"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"targets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node-83"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"electron-85"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"platforms"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"win32"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"arches"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"x64"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ia32"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("接下来执行安装操作：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i iohook\n")])])]),a("p",[s._v("如果此时一直停留在 "),a("code",[s._v("node install")]),s._v(" 进度上，说明可能需要翻墙，这里就不介绍如何翻墙了。此时虽然 "),a("code",[s._v(".node")]),s._v(" 文件没有下载成功，但是 "),a("code",[s._v("iohook")]),s._v(" 源文件\n已经安装成功，如果因为翻墙问题导致的安装失败，我们解决好翻墙问题后，可以接着运行一下：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run rebuild_win\n")])])]),a("p",[s._v("到这里 "),a("code",[s._v("iohook")]),s._v(" 应该就安装好了")]),s._v(" "),a("h3",{attrs:{id:"安装-robotjs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-robotjs"}},[s._v("#")]),s._v(" 安装 robotjs")]),s._v(" "),a("p",[s._v("和 iohook 不同， "),a("code",[s._v("robotjs")]),s._v(" 需要 "),a("code",[s._v("node gyp")]),s._v(" 重新编译 "),a("code",[s._v("C++")]),s._v("。所以第一步是先安装源文件：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i robotjs@git+https://github.com/Toinane/robotjs.git\n")])])]),a("p",[s._v("此时如果报错，大多还是因为墙的问题。不管包不报错，我们接下来都需要执行一下下面的编译操作：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run rebuild_win\n")])])]),a("p",[s._v("此时，可能会出现下这个错：")]),s._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("gyp ERR! find VS msvs_version not set from command line or npm config\n// ...\n")])])]),a("p",[s._v("google 了一圈，大多数是说缺少 "),a("code",[s._v("visual studio")]),s._v("。需要安装，所以可以执行这个命令：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --global --production windows-build-tools \n")])])]),a("p",[s._v("到这里会进入正常的安装流程，理论上会一部到底，如果你卡在了 "),a("code",[s._v("Successfully installed Python 2.7")]),s._v(" 不动了\n可以去一下 "),a("code",[s._v("C:\\Users\\you username\\.windows-build-tools")]),s._v(" 找一下看看应该会有一个 "),a("code",[s._v("vs_BuildTools")]),s._v(" 文件\n双击后，会出现以下弹窗：")]),s._v(" "),a("p",[a("img",{attrs:{src:"/rubick/images/6.png",alt:""}})]),s._v(" "),a("p",[s._v("点击启动，如果一切正常那么可以方向关掉你的命令行了，此时 vs 已经安装成功，接下来要配置一下编译工具：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" python python3.9\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" msvs_version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v("\n")])])]),a("p",[s._v("到这里终于完事了，再执行一下 "),a("code",[s._v("npm run rebuild_win")]),s._v(" 此时已经安装成功！")]),s._v(" "),a("h2",{attrs:{id:"macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#macos"}},[s._v("#")]),s._v(" macos")]),s._v(" "),a("p",[s._v("macos 下安装就简单不少了，首先先解决翻墙的问题，然后：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i\n")])])]),a("p",[s._v("最后执行")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$npm")]),s._v(" run rebuild\n")])])]),a("h2",{attrs:{id:"最后"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最后"}},[s._v("#")]),s._v(" 最后")]),s._v(" "),a("p",[s._v("如果您在启动过程中还有其他的问题，欢迎随时给我们反馈，我们会在第一时间回复："),a("a",{attrs:{href:"https://github.com/clouDr-f2e/rubick/issues/20",target:"_blank",rel:"noopener noreferrer"}},[s._v("issues"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);